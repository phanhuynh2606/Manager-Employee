import{r as n,j as s,a as e,u as g,F as u,g as N}from"./index-CVZjuLi7.js";import{P as o}from"./statistics-charts-data-1pGHYUXO.js";import{L as j}from"./Loader-FL5xr_TU.js";function b({title:a,titleId:l,...m},c){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:c,"aria-labelledby":l},m),a?n.createElement("title",{id:l},a):null,n.createElement("path",{d:"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z"}))}const v=n.forwardRef(b);function L(){var i,h,x;const[a,l]=n.useState({}),[m,c]=n.useState(!1),y=async()=>{try{c(!0);const t=await N();t.success&&l(t.result)}catch(t){console.log(t)}finally{c(!1)}};if(n.useEffect(()=>{y()},[]),m)return s.jsx(j,{});const d=t=>new Date(t).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"}),r=t=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"relative mt-8 h-72 w-full overflow-hidden rounded-xl bg-[url('/img/background-image.png')] bg-cover bg-center",children:s.jsx("div",{className:"absolute inset-0 h-full w-full bg-gray-900/75"})}),s.jsx(e.Card,{className:"mx-3 -mt-16 mb-6 lg:mx-4 border border-blue-gray-100",children:s.jsxs(e.CardBody,{className:"p-4",children:[s.jsxs("div",{className:"mb-10 flex items-center justify-between flex-wrap gap-6",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(e.Avatar,{src:a==null?void 0:a.avatar,alt:a==null?void 0:a.fullName,size:"xl",variant:"rounded",className:"rounded-lg shadow-lg shadow-blue-gray-500/40"}),s.jsxs("div",{children:[s.jsx(e.Typography,{variant:"h5",color:"blue-gray",className:"mb-1",children:a==null?void 0:a.fullName}),s.jsxs(e.Typography,{variant:"small",className:"font-normal text-blue-gray-600",children:[(a==null?void 0:a.position)==="STAFF"?"Nhân viên":"Quản lý"," tại ",a==null?void 0:a.departmentName]})]})]}),g?null:s.jsx("div",{className:"w-96",children:s.jsx(e.Tabs,{value:"app",children:s.jsx(e.TabsHeader,{children:s.jsxs(e.Tab,{value:"app",children:[s.jsx(u,{className:"-mt-1 mr-2 inline-block h-5 w-5"}),"Thay đổi mật khẩu"]})})})})]}),s.jsxs("div",{className:"grid gap-12 px-4 lg:grid-cols-2 xl:grid-cols-3",children:[s.jsx(o,{title:"Thông tin hồ sơ",details:{"Họ và tên đầy đủ":a==null?void 0:a.fullName,"Ngày sinh":d(a==null?void 0:a.dateOfBirth),"Giới tính":(a==null?void 0:a.gender)==="MALE"?"Nam":"Nữ","Địa chỉ":a==null?void 0:a.address,"Số điện thoại":a==null?void 0:a.phoneNumber},action:s.jsx(e.Tooltip,{content:"Edit Profile",children:s.jsx(v,{className:"h-4 w-4 cursor-pointer text-blue-gray-500"})})}),s.jsx(o,{title:"Thông tin công việc",details:{"Chức vụ":a!=null&&a.position?"Nhân viên":"Quản lý","Phòng ban":a==null?void 0:a.departmentName,"Số phòng":a==null?void 0:a.roomNumber,"Ngày bắt đầu làm việc":d(a==null?void 0:a.hireDate)}}),g?null:s.jsxs("div",{children:[s.jsx(e.Typography,{variant:"h6",color:"blue-gray",className:"mb-3",children:"Lương & Phúc lợi"}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsxs(e.Typography,{className:"text-sm font-semibold text-blue-gray-500",children:["Lương cơ bản: ",r(a==null?void 0:a.baseSalary)]}),s.jsxs(e.Typography,{className:"text-sm font-semibold text-blue-gray-500",children:["Mức lương mới nhất: ",r(a==null?void 0:a.latestSalary)]})]}),s.jsxs("div",{children:[s.jsx(e.Typography,{className:"text-xs font-semibold uppercase text-blue-gray-500 mb-2",children:"Tiền thưởng"}),(i=a==null?void 0:a.bonuses)==null?void 0:i.map(t=>s.jsxs("div",{className:"mb-2",children:[s.jsxs(e.Typography,{className:"text-sm",children:[t.name,": ",r(t.amount)]}),s.jsx(e.Typography,{className:"text-xs text-blue-gray-500",children:t.reason})]},t._id))]}),s.jsxs("div",{children:[s.jsx(e.Typography,{className:"text-xs font-semibold uppercase text-blue-gray-500 mb-2",children:"Phụ cấp"}),(h=a==null?void 0:a.allowances)==null?void 0:h.map(t=>s.jsx("div",{className:"mb-2",children:s.jsxs(e.Typography,{className:"text-sm",children:[t.name,": ",r(t.amount)]})},t._id))]}),s.jsxs("div",{children:[s.jsx(e.Typography,{className:"text-xs font-semibold uppercase text-blue-gray-500 mb-2",children:"Trừ tiền"}),(x=a==null?void 0:a.deductions)==null?void 0:x.map(t=>s.jsxs("div",{className:"mb-2",children:[s.jsxs(e.Typography,{className:"text-sm",children:[t.name,": ",r(t.amount)]}),s.jsx(e.Typography,{className:"text-xs text-blue-gray-500",children:t.reason})]},t._id))]})]}),s.jsxs("div",{children:[s.jsx(e.Typography,{variant:"h6",color:"blue-gray",className:"mb-3",children:"Ngày nghỉ phép"}),s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs(e.Typography,{className:"text-sm",children:["Nghỉ phép hàng năm: ",a==null?void 0:a.annualLeave," ngày"]}),s.jsxs(e.Typography,{className:"text-sm",children:["Nghỉ ốm: ",a==null?void 0:a.sickLeave," ngày"]}),s.jsxs(e.Typography,{className:"text-sm",children:["Nghỉ phép không lương: ",a==null?void 0:a.unpaidLeave," ngày"]})]})]})]})]})]})})]})}export{L as Profile,L as default};
